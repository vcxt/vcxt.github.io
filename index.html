<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webhook Tool</title>
    <style>
        /* Same CSS as before */
        body {
            font-family: 'Courier New', monospace;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* ... rest of your CSS ... */
    </style>
</head>
<body>
    <div class="container">
        <div class="ascii-art">
            <!-- Your ASCII art here -->
        </div>
        
        <div class="form-group">
            <label for="webhooks">Webhook URLs (comma separated):</label>
            <textarea id="webhooks" rows="3" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="message">Message:</label>
            <input type="text" id="message" required>
        </div>
        
        <div class="form-group">
            <label for="count">Count (1-99):</label>
            <input type="number" id="count" min="1" max="99" value="10" required>
        </div>
        
        <button id="spamBtn">Spam Webhooks</button>
        <button id="deleteBtn">Delete Webhooks</button>
        
        <div id="result" class="result" style="display: none;"></div>
    </div>
    
    <div class="footer">
        made by ykknrf on discord
    </div>
    
    <script>
        async function sendRequest(url, method, data = null) {
            try {
                // Using a proxy to bypass CORS
                const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    }
                };
                
                if (data) options.body = JSON.stringify(data);
                
                const response = await fetch(proxyUrl + url, options);
                return response;
            } catch (error) {
                console.error('Error:', error);
                throw error;
            }
        }

        document.getElementById('spamBtn').addEventListener('click', async () => {
            const webhooks = document.getElementById('webhooks').value.trim().split(',').map(w => w.trim());
            const message = document.getElementById('message').value;
            const count = parseInt(document.getElementById('count').value);
            
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            resultDiv.textContent = 'Sending messages...';
            
            try {
                let successCount = 0;
                for (let i = 0; i < count; i++) {
                    for (const webhook of webhooks) {
                        if (!webhook) continue;
                        try {
                            await sendRequest(webhook, 'POST', { content: message });
                            successCount++;
                        } catch (e) {
                            console.error(`Failed to send to ${webhook}:`, e);
                        }
                        await new Promise(resolve => setTimeout(resolve, 100));
                    }
                }
                resultDiv.textContent = `Sent ${successCount} messages successfully`;
            } catch (error) {
                resultDiv.textContent = 'Error: ' + error.message;
            }
        });
        
        document.getElementById('deleteBtn').addEventListener('click', async () => {
            const webhooks = document.getElementById('webhooks').value.trim().split(',').map(w => w.trim());
            
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            resultDiv.textContent = 'Deleting webhooks...';
            
            try {
                let successCount = 0;
                for (const webhook of webhooks) {
                    if (!webhook) continue;
                    try {
                        await sendRequest(webhook, 'DELETE');
                        successCount++;
                    } catch (e) {
                        console.error(`Failed to delete ${webhook}:`, e);
                    }
                }
                resultDiv.textContent = `Deleted ${successCount} webhooks successfully`;
            } catch (error) {
                resultDiv.textContent = 'Error: ' + error.message;
            }
        });
    </script>
</body>
</html>
